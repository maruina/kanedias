{% set vim = salt['pillar.get']('vim', {
    'lookup': salt['grains.filter_by']({
        'Debian': {
            'package': 'vim'
        },
        'RedHat': {
            'package': 'vim-enhanced'
        },
    }, default='RedHat' )
}, merge=True) %}